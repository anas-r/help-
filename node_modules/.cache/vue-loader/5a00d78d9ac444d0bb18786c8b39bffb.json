{"remainingRequest":"/home/anasr/Projects/VueJSProject/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/anasr/Projects/VueJSProject/src/components/RoomsWindowsList.vue?vue&type=style&index=0&id=55d2494e&lang=scss&scoped=true&","dependencies":[{"path":"/home/anasr/Projects/VueJSProject/src/components/RoomsWindowsList.vue","mtime":1610641770730},{"path":"/home/anasr/Projects/VueJSProject/node_modules/css-loader/dist/cjs.js","mtime":1610638898960},{"path":"/home/anasr/Projects/VueJSProject/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1610638899960},{"path":"/home/anasr/Projects/VueJSProject/node_modules/postcss-loader/src/index.js","mtime":1610638899370},{"path":"/home/anasr/Projects/VueJSProject/node_modules/sass-loader/dist/cjs.js","mtime":1610638899750},{"path":"/home/anasr/Projects/VueJSProject/node_modules/cache-loader/dist/cjs.js","mtime":1610638898750},{"path":"/home/anasr/Projects/VueJSProject/node_modules/vue-loader/lib/index.js","mtime":1610638899960}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoub3Blbi1zdGF0dXMgewogIC5pY29uIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB9CgogICYub3BlbiB7CiAgICBjb2xvcjogIzE5ODc1NDsKICAgIC5pY29uIHsKICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICB0b3A6IC0zcHg7CiAgICB9CiAgfQoKICAmLmNsb3NlZCB7CiAgICBjb2xvcjogI2RjMzU0NTsKICB9Cn0KCi5yb29tIHsKICAudG9wLXJvdyB7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgfQp9Cgouc3ViLXRpdGxlIHsKICBtYXJnaW46IDE1cHg7Cn0KCi5yb29tcy1saXN0IHsKICBoZWlnaHQ6IDUwMHB4OwogIG92ZXJmbG93LXk6IHNjcm9sbDsKfQo="},{"version":3,"sources":["RoomsWindowsList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"RoomsWindowsList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"room border border-secondary rounded p-2 mb-2\" :class=\"{expanded: isExpanded}\">\n    <div class=\"top-row d-flex align-items-center\" @click=\"toggleExpand\">\n      <div class=\"room-name fw-bold pe-3\">Windows</div>\n\n      <button type=\"button\" \n          class=\"btn btn-primary ms-auto me-4 btn-sm\" \n          :class=\"{disabled: windowsAreSwitching}\"\n          @click.stop=\"switchAllWindows\" > Switch all windows</button>\n\n      <div class=\"expand-button\">\n        {{ isExpanded ? '&#9660;' : '&#9658;' }}\n      </div>\n    </div>\n\n    <template v-if=\"isExpanded\">\n      <hr/>\n       <div class=\"windows-list pt-3 d-flex flex-column\">\n          <windows-list-item \n            v-for=\"window in windows\"\n            :window=\"window\"\n            :key=\"window.id\"\n            @window-updated=\"updateWindow\"\n          >\n          </windows-list-item>\n  </div>\n    </template>\n\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport {API_HOST} from '../config';\nimport WindowsListItem from './WindowsListItem';\n\nexport default {\n  name: 'RoomsListItem',\n  props: ['windows',\"roomId\"],\n  components: {\n    WindowsListItem\n  },\n  data: function() {\n    return {\n      isExpanded: false,\n      windowsAreSwitching : false\n    }\n  },\n  methods: {\n    toggleExpand() {\n      this.isExpanded = !this.isExpanded;\n    },\n    async switchAllWindows() {\n      this.windowsAreSwitching = true;\n      await axios.put(`${API_HOST}/api/rooms/${this.roomId}/switchWindow`);\n      for(let i = 0; i < this.windows.length; i++) {\n        this.windows[i].windowStatus = this.windows[i].windowStatus==='OPEN' ? 'CLOSED' : 'OPEN';\n      }\n      this.windowsAreSwitching = false;\n    },\n    updateWindow(newWindow) {\n      /* Find the place of window objectw ith the same Id in the array, and replace it */\n      let index = this.windows.findIndex(window => window.id === newWindow.id);\n      this.windows.splice(index, 1, newWindow);\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.open-status {\n  .icon {\n    position: relative;\n  }\n\n  &.open {\n    color: #198754;\n    .icon {\n      font-size: 12px;\n      top: -3px;\n    }\n  }\n\n  &.closed {\n    color: #dc3545;\n  }\n}\n\n.room {\n  .top-row {\n    cursor: pointer;\n  }\n}\n\n.sub-title {\n  margin: 15px;\n}\n\n.rooms-list {\n  height: 500px;\n  overflow-y: scroll;\n}\n</style>\n"]}]}